<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éŠæˆ²é€šé—œ</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="../css/style.css">
    <style>
        .congratulations {
            font-size: 3rem;
            font-weight: bold;
            color: #4CAF50;
            margin-bottom: 30px;
        }

        .rank {
            font-size: 2.5rem;
            font-weight: bold;
            margin: 20px 0;
        }

        .rank.S {
            color: #f1e915;
        }

        .rank.A {
            color: #ffb007;
        }

        .rank.B {
            color: #1386e4;
        }

        .rank.C {
            color: #fd145e;
        }

        .rank.D {
            color: #3e2326;
        }

        .msg {
            font-size: 1.5rem;
            font-weight: normal;
            color: #6c757d;
            margin-top: 20px;
        }

        .container {
            margin-top: 50px;
        }
    </style>
</head>

<body class="bg-light text-center">
    <div class="container my-5">
        <h1 class="congratulations">æ­å–œé€šé—œï¼</h1>
        <p id="time-taken" class="lead"></p>
        <p id="rank" class="rank"></p>
        <p id="msg" class="msg"></p>
    </div>

    <script>
        // ç²å–é€šé—œæ™‚é–“ä¸¦è¨ˆç®—ç­‰ç´š
        function getTimeTaken() {
            const startTime = document.cookie.split('; ').find(row => row.startsWith('startTime=')).split('=')[1];
            const endTime = new Date().getTime();
            return (endTime - startTime) / 1000; // è¨ˆç®—ç§’æ•¸
        }

        function getRank(timeTaken) {
            if (timeTaken <= 300) {
                return { rank: "S Rank", msg: "è€å…„æ˜¯çœŸæ­£çš„speed runnerğŸ’€" };
            } else if (timeTaken <= 480) {
                return { rank: "A Rank", msg: "åšå¾—ä¸éŒ¯ï¼ä½ çš„è¡¨ç¾éå¸¸å‡ºè‰²ï¼" };
            } else if (timeTaken <= 720) {
                return { rank: "B Rank", msg: "ä¸éŒ¯ï¼Œç¨å¾®å¿«ä¸€é»æœƒæ›´å¥½ï¼" };
            } else if (timeTaken <= 1200) {
                return { rank: "C Rank", msg: "é‚„æœ‰é€²æ­¥çš„ç©ºé–“ï¼ŒåŠ æ²¹ï¼" };
            } else {
                return { rank: "D Rank", msg: "åˆ¥ç°å¿ƒï¼Œè«‹å†è©¦ä¸€æ¬¡ï¼" };
            }
        }

        $(document).ready(() => {
            const timeTaken = getTimeTaken();
            const { rank, msg } = getRank(timeTaken);
            const minutes = Math.floor(timeTaken / 60);
            const seconds = Math.floor(timeTaken % 60);
            const ms = `${minutes} åˆ† ${seconds} ç§’`;

            $('#time-taken').text(`ä½ ç”¨äº† ${ms} å®ŒæˆéŠæˆ²ï¼`);
            $('#rank').text(`ä½ çš„è©•åˆ†æ˜¯ï¼š`); // æ ¹æ“šRankæ·»åŠ ä¸åŒçš„é¡è‰²
            $('#rank').text(`${rank}`).addClass(rank.split(' ')[0]); // æ ¹æ“šRankæ·»åŠ ä¸åŒçš„é¡è‰²
            $('#msg').text(msg);
        });
    </script>
</body>

</html>